# üìã GUIA DE INSTALA√á√ÉO - ABA DE CONTROLE DE ESTOQUE

## Passo 1: Atualizar o HTML (index.html)

### 1.1 Adicionar bot√£o na navega√ß√£o (linha ~167)
Localizar a se√ß√£o `<nav class="app-nav">` e adicionar o bot√£o de Estoque:

```html
<button class="nav-tab" data-tab="estoque"><i class="ph ph-warehouse"></i> Estoque</button>
```

A navega√ß√£o completa deve ficar assim:
```html
<nav class="app-nav">
    <button class="nav-tab active" data-tab="dashboard"><i class="ph ph-chart-bar"></i> Vis√£o Geral</button>
    <button class="nav-tab" data-tab="caixa"><i class="ph ph-currency-dollar"></i> Caixa</button>
    <button class="nav-tab" data-tab="products"><i class="ph ph-package"></i> Produtos</button>
    <button class="nav-tab" data-tab="estoque"><i class="ph ph-warehouse"></i> Estoque</button>
    <button class="nav-tab" data-tab="sales"><i class="ph ph-trend-up"></i> Vendas</button>
    <button class="nav-tab" data-tab="boletos"><i class="ph ph-barcode"></i> Boletos</button>
</nav>
```

### 1.2 Adicionar conte√∫do da aba
Copiar TODO o conte√∫do do arquivo `ESTOQUE_HTML.txt` e colar AP√ìS a aba de Produtos (products-tab) e ANTES da aba de Vendas (sales-tab).

---

## Passo 2: Atualizar o JavaScript (app.js)

### 2.1 Adicionar fun√ß√µes de estoque
Copiar TODO o conte√∫do do arquivo `ESTOQUE_JAVASCRIPT.txt` e colar NO FINAL do arquivo `app.js`, ap√≥s as fun√ß√µes de boletos.

---

## Passo 3: Atualizar o Backend (server.js)

### 3.1 Adicionar tabela no banco de dados
Localizar a fun√ß√£o `getUserDb(userId)` (linha ~54) e dentro do `db.serialize(() => {`, AP√ìS a tabela de boletos, adicionar:

```javascript
// Stock Movements Table
db.run(`CREATE TABLE IF NOT EXISTS stock_movements (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    productId INTEGER,
    productName TEXT,
    type TEXT,
    quantity INTEGER,
    previousStock INTEGER,
    newStock INTEGER,
    reason TEXT,
    createdAt TEXT,
    FOREIGN KEY(productId) REFERENCES products(id)
)`);
```

### 3.2 Adicionar rotas da API
Copiar as rotas do arquivo `ESTOQUE_BACKEND.txt` e colar ANTES das rotas de boletos (linha ~420), logo ap√≥s as rotas de debtors.

---

## Passo 4: Reiniciar o Servidor

1. Parar o servidor atual (Ctrl+C no terminal)
2. Iniciar novamente: `node server.js`
3. Acessar http://localhost:3000
4. Fazer login
5. Clicar na aba "Estoque"

---

## ‚úÖ Verifica√ß√£o

Ap√≥s a instala√ß√£o, voc√™ deve ter:

1. ‚úÖ Aba "Estoque" vis√≠vel na navega√ß√£o
2. ‚úÖ Cards mostrando resumo do estoque
3. ‚úÖ Bot√£o "+ Nova Movimenta√ß√£o"
4. ‚úÖ Tabela de movimenta√ß√µes vazia (inicialmente)
5. ‚úÖ Modal para registrar movimenta√ß√µes funcionando

---

## üéØ Funcionalidades Implementadas

- ‚úÖ **Entrada de Estoque**: Adicionar produtos ao estoque
- ‚úÖ **Sa√≠da de Estoque**: Remover produtos do estoque
- ‚úÖ **Ajuste Manual**: Corrigir quantidade exata
- ‚úÖ **Hist√≥rico Completo**: Todas as movimenta√ß√µes registradas
- ‚úÖ **Resumo Visual**: Cards com totais e alertas
- ‚úÖ **Rastreabilidade**: Data, hora, motivo de cada movimenta√ß√£o

---

## üìä Exemplo de Uso

1. Clique em "+ Nova Movimenta√ß√£o"
2. Selecione um produto
3. Escolha o tipo (Entrada/Sa√≠da/Ajuste)
4. Informe a quantidade
5. Descreva o motivo (ex: "Compra de fornecedor", "Perda", "Corre√ß√£o de invent√°rio")
6. Clique em "Salvar"

O sistema automaticamente:
- Atualiza o estoque do produto
- Registra a movimenta√ß√£o com data/hora
- Mostra o estoque anterior e o novo
- Atualiza os cards de resumo

---

## üö® Observa√ß√µes Importantes

1. **Sa√≠das**: O sistema n√£o permite sa√≠das maiores que o estoque dispon√≠vel
2. **Ajustes**: O tipo "Ajuste" define o valor EXATO do estoque (n√£o adiciona/remove)
3. **Hist√≥rico**: Limitado √†s √∫ltimas 100 movimenta√ß√µes para performance
4. **Sincroniza√ß√£o**: As vendas pelo PDV tamb√©m geram movimenta√ß√µes autom√°ticas

---

## üìÅ Arquivos Criados

- `ESTOQUE_HTML.txt` - C√≥digo HTML da aba
- `ESTOQUE_JAVASCRIPT.txt` - Fun√ß√µes JavaScript
- `ESTOQUE_BACKEND.txt` - Rotas da API e tabela do banco
- `ESTOQUE_INSTALACAO.txt` - Este guia

---

Boa implementa√ß√£o! üöÄ
